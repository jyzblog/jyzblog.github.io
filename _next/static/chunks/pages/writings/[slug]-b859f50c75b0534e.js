(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{5696:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/writings/[slug]",function(){return n(1454)}])},5331:function(t,e,n){"use strict";var o=n(5893),c=n(7294),l=n(1664),r=n.n(l),i=n(4309),s=n.n(i);e.Z=function(){let[t,e]=(0,c.useState)("light");(0,c.useEffect)(()=>{let t=localStorage.getItem("theme");"dark"===t||"light"===t?(e(t),document.body.setAttribute("data-theme",t)):(e("light"),document.body.setAttribute("data-theme","light"))},[]);let n=t.charAt(0).toUpperCase()+t.slice(1);return(0,o.jsxs)("nav",{className:s().nav,children:[(0,o.jsx)(r(),{href:"/",as:"/",children:"Home"})," ","|"," ",(0,o.jsx)(r(),{href:"/books",as:"/books",children:"Books"})," ","|"," ",(0,o.jsx)(r(),{href:"/writings",as:"/writings",children:"Notes"})," ","|"," ",(0,o.jsx)("button",{onClick:()=>{let n="dark"===t?"light":"dark";e(n),localStorage.setItem("theme",n),document.body.setAttribute("data-theme",n)},style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2em",marginLeft:"10px",verticalAlign:"middle"},title:"Theme: ".concat(n),"aria-label":"Toggle dark mode",children:"dark"===t?"\uD83C\uDF19":"☀️"})]})}},1454:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return u},default:function(){return d}});var o=n(5893),c=n(7294),l=n(3474),r=n(5331),i=n(8044),s=n.n(i),a=t=>{let{headings:e}=t,[n,l]=(0,c.useState)(""),r=(0,c.useRef)(null),i=(0,c.useRef)(null);console.log("TOC component received headings:",e),(0,c.useEffect)(()=>{if(!e||0===e.length)return;let t=setTimeout(()=>{let t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(console.log("Section in view:",t.target.id),l(t.target.id))})},{rootMargin:"-10% 0px -60% 0px",threshold:.1});return e.forEach(e=>{let n=document.getElementById(e.id);n?(console.log("Observing element:",e.id,n),t.observe(n)):console.log("Element not found for heading:",e.id)}),()=>t.disconnect()},500);return()=>clearTimeout(t)},[e]),(0,c.useEffect)(()=>{if(n&&i.current&&r.current){let t=r.current,e=i.current,o=t.scrollTop,c=e.offsetTop,l=t.clientHeight,s=e.offsetHeight,a=c-l/2+s/2,u=c-o;u>=0&&u+s<=l&&50>Math.abs(u-(l-s)/2)||(console.log("Scrolling TOC to center item:",n,"from",o,"to",a),t.scrollTo({top:Math.max(0,a),behavior:"smooth"}))}},[n]);let a=t=>{let e=document.getElementById(t);e?(console.log("Scrolling to element:",t,e),e.scrollIntoView({behavior:"smooth",block:"start"})):console.log("Element not found for scrolling:",t)};return e&&0!==e.length?(console.log("TOC: Rendering with headings:",e),console.log("TOC: Active ID:",n),(0,o.jsxs)("nav",{className:s().tocContainer,ref:r,children:[(0,o.jsx)("div",{className:s().tocTitle,children:"Table of Contents"}),(0,o.jsx)("ul",{className:s().tocList,children:e.map((t,e)=>{let c=n===t.id,l=t.level-1;return(0,o.jsx)("li",{className:"".concat(s().tocItem," ").concat(c?s().tocActive:""),style:{paddingLeft:"".concat(16*l,"px")},ref:c?i:null,children:(0,o.jsx)("a",{href:"#".concat(t.id),className:s().tocLink,onClick:e=>{e.preventDefault(),a(t.id)},"aria-current":c?"location":void 0,children:t.text})},e)})})]})):(console.log("TOC: No headings found, returning null"),null)},u=!0,d=function(t){let{content:e,headings:n}=t;return(0,c.useEffect)(()=>{n&&n.length>0&&n.forEach(t=>{document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(e=>{e.textContent.trim()===t.text&&(e.id=t.id)})})},[n]),(0,o.jsxs)(c.Fragment,{children:[(0,o.jsx)(r.Z,{}),(0,o.jsxs)("div",{className:s().postContainer,children:[(0,o.jsx)(a,{headings:n}),(0,o.jsx)("article",{className:s().content,children:(0,o.jsx)(l.D,{children:e})})]})]})}},8044:function(t){t.exports={toc:"content_toc__Y75L6",postContainer:"content_postContainer__biuUy",tocContainer:"content_tocContainer__ge3eY",tocTitle:"content_tocTitle__cUXHp",tocList:"content_tocList__Du9u2",tocItem:"content_tocItem__r2uO4",tocLink:"content_tocLink__hAKAJ",tocActive:"content_tocActive__TyR7B",content:"content_content___V5S_",post:"content_post__bxo0p",hashtags:"content_hashtags__6W0yf",title:"content_title__8Az5E"}},4309:function(t){t.exports={nav:"nav_nav__E77In"}}},function(t){t.O(0,[664,474,888,774,179],function(){return t(t.s=5696)}),_N_E=t.O()}]);